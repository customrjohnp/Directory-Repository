<!doctype html>
<html lang="en">
<head>
  <!-- 
  =============================================================
  EMAIL DIRECTORY — SIMPLE, SAFE-TO-EDIT INDEX (for non-coders)
  =============================================================
  How this file works (one page, no build tools):
  • You paste/export each email HTML into /emails/ as its own .html file.
  • You list those files in the “EMAILS” section below (clearly labelled EDIT HERE).
  • This page renders a searchable directory of those files.

  SAFE-EDIT RULES:
  1) Only edit inside blocks that say  >>> EDIT HERE <<<  (labels included).
  2) Don’t delete or rename any lines outside those blocks.
  3) When adding a new email, duplicate an example object and change texts between quotes only.
  4) Filenames must match the actual file inside /emails/ or the button will open 404.
  5) If you make a mistake, the page won’t break; the entry will simply be skipped and you’ll see a warning card.

  FOLDERS REQUIRED IN YOUR REPO:
  /index.html   (this file)
  /emails/      (put your exported email .html files here)

  NAMING SUGGESTION (not required but tidy):
  Marketing_YYYYMMDD_Segment_CampaignType_CampaignName[_Category][_Variant].html
  Auto_FlowName[_Step][_Variant].html
  =============================================================
  -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Email Directory — Customr</title>
  <meta name="description" content="Self‑hosted directory of email HTML files for previews and sharing." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* ====== VISUAL STYLES (do not edit unless you want to restyle) ====== */
    :root{--bg:#0b0c0f;--panel:#111319;--muted:#a1a6b3;--text:#e9eef9;--brand:#5ad8e6;--ring:#4aa8b5;--mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,var(--bg),#0e1016 40%, #0b0c0f);color:var(--text)}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:20px}
    .brand{display:flex;gap:10px;align-items:center;font-weight:700}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:var(--brand);box-shadow:0 0 0 4px #2a3d43}
    h1{font-size:clamp(22px,3vw,30px);margin:0}
    .muted{color:var(--muted)}
    .panel{background:var(--panel);border:1px solid #1c2230;border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .toolbar{display:grid;grid-template-columns:1fr 150px 150px 150px;gap:10px;padding:14px}
    .field{position:relative}
    input[type="search"],select{width:100%;background:#0c0f16;border:1px solid #20293c;color:var(--text);padding:12px 14px;border-radius:10px;outline:none}
    input[type="search"]:focus,select:focus{border-color:var(--ring);box-shadow:0 0 0 3px rgba(90,216,230,.15)}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px;padding:14px}
    .card{background:#0d1119;border:1px solid #1b2233;border-radius:14px;padding:14px;display:flex;flex-direction:column;gap:10px}
    .badge{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:999px;border:1px solid #263146;color:#bcd5dd;background:#0b141a;font-size:12px}
    .meta{display:flex;flex-wrap:wrap;gap:6px}
    .row{display:flex;gap:8px;align-items:center;justify-content:space-between}
    .code{font-family:var(--mono);font-size:12px;color:#cfeaf0;background:#0a1016;border:1px dashed #203041;border-radius:8px;padding:8px;overflow:auto}
    .actions{display:flex;gap:8px;flex-wrap:wrap}
    .btn{appearance:none;border:none;border-radius:10px;padding:10px 12px;font-weight:600;cursor:pointer;background:#0f1824;color:#d6e6ee;border:1px solid #243244}
    .btn:hover{border-color:#2e4256}
    .btn.primary{background:linear-gradient(180deg,#1f9fb1,#197f8e);border-color:#266b76}
    .btn.ghost{background:transparent;border:1px dashed #2a3a4e}
    .footer{opacity:.75;font-size:12px;padding:18px;text-align:center}
    details{margin-top:10px}
    summary{cursor:pointer;color:#c9e9ee}
    @media (max-width:900px){.toolbar{grid-template-columns:1fr 1fr 1fr;}.toolbar .hide-sm{display:none}}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand"><span class="dot" aria-hidden="true"></span><h1>Email Directory</h1></div>
      <div class="muted">Self‑hosted previews • Shareable links</div>
    </header>

    <section class="panel" aria-labelledby="filters-heading">
      <h2 id="filters-heading" class="visually-hidden" style="position:absolute;left:-9999px">Filters</h2>
      <div class="toolbar">
        <!-- >>> EDIT HERE (optional placeholder): You may change the placeholder text only. -->
        <label class="field"><input type="search" id="q" placeholder="Search… e.g., Abandon Cart, Knitwear, VIP" aria-label="Search" /></label>
        <!-- No edits needed below unless you want to change option lists in BRANDS_PRESET or TYPES_PRESET. -->
        <label class="field"><select id="brand"><option value="">All brands</option></select></label>
        <label class="field"><select id="type"><option value="">All types</option></select></label>
        <label class="field hide-sm"><select id="sort">
          <option value="date_desc">Newest first</option>
          <option value="date_asc">Oldest first</option>
          <option value="name_asc">Name A→Z</option>
        </select></label>
      </div>
      <div id="grid" class="grid" aria-live="polite"></div>
    </section>

    <section class="footer">
      <details>
        <summary>How to add new emails (step‑by‑step)</summary>
        <ol>
          <li>Export your email HTML from Emarsys preview → paste it into a new file inside <code>/emails/</code>. Example: <code>Marketing_20250924_FullDB_Sale_SitewideSale.html</code></li>
          <li>Scroll to the <strong>EMAILS DATA – EDIT HERE</strong> block in the code below. Duplicate one object and change values between quotes only.</li>
          <li>Fields meaning: <code>id</code> = display name, <code>brand</code> = brand filter, <code>type</code> = Marketing/Automation/Transactional, <code>date</code> = YYYY-MM-DD, <code>category</code> & <code>tags</code> = free text arrays, <code>path</code> = relative path to your HTML file, <code>notes</code> = small helper text.</li>
          <li>Commit & push. Open this index in your repo (or GitHub Pages). Done.</li>
        </ol>
      </details>
    </section>
  </div>

  <script>
    // =============================================================
    // PRESETS — EDIT SAFELY
    // You can add or rename brands/types here. Keep quotes and commas.
    // If you don't want presets, leave as-is; brands also auto-populate from EMAILS.
    // =============================================================

    /* >>> BRANDS PRESET — EDIT HERE (optional) <<< */
    const BRANDS_PRESET = [
      "House", "MyHouse", "Robin's Kitchen", "Bessemer", "Gazman",
      "Perri Cutten", "Viktoria & Woods", "Therapy Shoes", "Cable Melbourne"
    ];

    /* >>> TYPES PRESET — EDIT HERE (optional) <<< */
    const TYPES_PRESET = ["Marketing", "Automation", "Transactional"];

    // =============================================================
    // EMAILS DATA — EDIT HERE
    // Add a new block by copying one of the examples and changing values.
    // Rules: keep quotes, commas, and the overall { } shape. Don't remove keys.
    // If something is wrong, the entry is skipped and a warning appears.
    // =============================================================

    const EMAILS = [
      // EXAMPLE 1 — Automation (Welcome LEAD Email 1)
      {
        id: "Auto_WelcomeSeries_Online_Lead_Email_01",   // display name
        brand: "House",                                       // must match a brand name
        type: "Automation",                                    // Marketing | Automation | Transactional
        date: "2025-09-22",                                   // YYYY-MM-DD
        category: ["Welcome Series","Online"],                    // free tags; optional but useful
        tags: ["Automation"," Lead Email 1"],                        // free tags; optional but useful
        path: "Emails/GRB/House/[FUTURE STATE] Welcome Series (Online & In Store)/Auto_WelcomeSeries_Online_Lead_Email_01", // where the HTML file lives
        notes: "Welcome Series Email 01 — intro hero, $20 off WELCOME20 (2wks), value props, dynamic recs, rewards CTA"                   // small helper text; optional
      },

      // EXAMPLE 2 — Automation (Welcome LEAD Email 2)
      {
        id: "Auto_WelcomeSeries_Online_Lead_Email_02",
        brand: "House",
        type: "Automation",
        date: "2025-09-10",
        category: ["Welcome Series"],
        tags: ["Automation"," Lead Email 2"],
        path: "Emails/GRB/House/[FUTURE STATE] Welcome Series (Online & In Store)/Auto_WelcomeSeries_Online_Lead_Email_02",
        notes: "Welcome Series Email 02 — lifestyle hero, brand highlights (Tramontina, Baccarat Le Connoisseur, Alex Liddy, Ecology, Adorn, Bambury), reminder: $20 off WELCOME20 (2wks, $80 min, online only, excl Hot Offers), USPs + shop-by-category tiles"
      },

      // EXAMPLE 3 — Automation (Welcome LEAD Email 3)
      {
        id: "Auto_WelcomeSeries_Online_Lead_Email_03",
        brand: "House",
        type: "Automation",
        date: "2025-09-18",
        category: ["Welcome Series"],
        tags: ["Automation","Lead Email 3"],
        path: "Emails/GRB/House/[FUTURE STATE] Welcome Series (Online & In Store)/Auto_WelcomeSeries_Online_Lead_Email_03",
        notes: "Story tile + editorial section"
      },

      // EXAMPLE 4 — Automation (Welcome CUSTOMER Email 1)
      {
        id: "Auto_WelcomeSeries_Online_Customer_Email_01",
        brand: "House",
        type: "Automation",
        date: "2025-08-30",
        category: ["Welcome Series"],
        tags: ["Automation","Customer Email 1"],
        path: "Emails/GRB/House/[FUTURE STATE] Welcome Series (Online & In Store)/Auto_WelcomeSeries_Online_Customer_Email_01",
        notes: "Welcome Series (Customer) Email 01 — post-purchase welcome, hero + thank you copy, “Discover more to love” CTA, USPs (30-day returns, free ship $130+, 100+ stores), ‘Why shop with House?’ tiles, dynamic ‘You may also like’ (Predict x3), VIP Rewards banner, Top Brands, Shop-by-Category"
      }
    ];

    // =============================================================
    // BELOW THIS LINE — LOGIC (DO NOT EDIT)
    // Renders cards, handles filters, sorts, and basic validation.
    // =============================================================

    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    const brandSelect = document.getElementById('brand');
    const typeSel = document.getElementById('type');
    const sortSel = document.getElementById('sort');

    // Build brand options: presets + detected from EMAILS
    const detectedBrands = Array.from(new Set(EMAILS.map(e=>e.brand).filter(Boolean)));
    const brands = Array.from(new Set([...(BRANDS_PRESET||[]), ...detectedBrands])).sort();
    brands.forEach(b=>{ const o=document.createElement('option'); o.textContent=b; o.value=b; brandSelect.appendChild(o); });

    // Build type options: presets or fallback
    const detectedTypes = Array.from(new Set(EMAILS.map(e=>e.type).filter(Boolean)));
    const types = Array.from(new Set([...(TYPES_PRESET||["Marketing","Automation","Transactional"]), ...detectedTypes])).sort();
    types.forEach(t=>{ const o=document.createElement('option'); o.textContent=t; o.value=t; typeSel.appendChild(o); });

    function formatDate(iso){
      if(!iso) return "";
      const d = new Date(iso+"T00:00:00Z");
      return isNaN(d) ? iso : d.toLocaleDateString(undefined,{year:'numeric',month:'short',day:'2-digit'});
    }

    function copyToClipboard(text){
      navigator.clipboard.writeText(text).then(()=>{ alert('Link copied to clipboard'); }).catch(()=>{});
    }

    function validate(entry){
      // Minimal checks; if something is wrong we return a message and skip rendering as normal.
      const errors = [];
      if(!entry || typeof entry!== 'object') errors.push('Entry is not an object');
      if(!entry.id) errors.push('Missing id');
      if(!entry.brand) errors.push('Missing brand');
      if(!entry.type) errors.push('Missing type');
      if(!entry.date) errors.push('Missing date');
      if(!entry.path) errors.push('Missing path');
      return errors;
    }

    function warningCard(msg){
      const card = document.createElement('article');
      card.className='card';
      card.innerHTML = `<div class="row"><strong>Warning</strong><span class="badge">Invalid item</span></div><div class="muted">${msg}</div>`;
      return card;
    }

    function render(){
      const query = (q.value||'').trim().toLowerCase();
      const brand = brandSelect.value;
      const type = typeSel.value;
      const sort = sortSel.value;

      let rows = EMAILS.slice();
      // Filter invalid items gracefully
      const validated = [];
      rows.forEach((e,i)=>{
        const errs = validate(e);
        if(errs.length){ grid.appendChild(warningCard(`Item #${i+1}: ${errs.join(', ')}`)); }
        else { validated.push(e); }
      });

      rows = validated.filter(e=>{
        const inBrand = !brand || e.brand===brand;
        const inType = !type || e.type===type;
        const hay = [e.id, e.brand, e.type, (e.category||[]).join(' '), (e.tags||[]).join(' '), e.notes||''].join(' ').toLowerCase();
        const inQuery = !query || hay.includes(query);
        return inBrand && inType && inQuery;
      });

      rows.sort((a,b)=>{
        if(sort==='name_asc') return a.id.localeCompare(b.id);
        if(sort==='date_asc') return a.date.localeCompare(b.date);
        return b.date.localeCompare(a.date);
      });

      grid.innerHTML = '';
      if(rows.length===0){
        const empty = document.createElement('div');
        empty.className='card';
        empty.innerHTML = '<div class="muted">No emails match your filters yet. Add items to the EMAILS block (look for \u00bb EMAILS DATA — EDIT HERE \u00ab).</div>';
        grid.appendChild(empty);
        return;
      }

      rows.forEach(e=>{
        const card = document.createElement('article');
        card.className='card';
        const safeId = (e.id||'').replaceAll('_',' ');
        const safePath = e.path;
        card.innerHTML = `
          <div class="row">
            <div style="font-weight:700">${safeId}</div>
            <div class="badge" title="${e.type}">${e.type}</div>
          </div>
          <div class="meta">
            <span class="badge" title="Brand">${e.brand}</span>
            <span class="badge" title="Date">${formatDate(e.date)}</span>
            ${ (e.category||[]).map(c=>`<span class="badge">${c}</span>`).join('') }
            ${ (e.tags||[]).map(t=>`<span class="badge">#${t}</span>`).join('') }
          </div>
          <div class="code">${safePath}</div>
          <div class="actions">
            <a class="btn primary" href="${safePath}" target="_blank" rel="noopener">View</a>
            <button class="btn" onclick="copyToClipboard(location.origin + location.pathname.replace(/index\\.html?$/,'') + '${safePath}')">Copy link</button>
            <a class="btn ghost" href="${safePath}" download>Download HTML</a>
          </div>
          ${ e.notes ? `<div class="muted" style="font-size:12px">${e.notes}</div>` : '' }
        `;
        grid.appendChild(card);
      });
    }

    q.addEventListener('input', render);
    brandSelect.addEventListener('change', render);
    typeSel.addEventListener('change', render);
    sortSel.addEventListener('change', render);

    render();
  </script>
</body>
</html>
